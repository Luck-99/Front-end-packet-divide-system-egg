"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[802],{6802:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var a=function(){var e=this,t=e._self._c;return t("div",[t("Header"),t("router-view")],1)},s=[],l=function(){var e=this,t=e._self._c;return t("header",{staticClass:"main-header borderBottom"},[t("div",{staticClass:"main-header-title"},[e._v(e._s(e.title))]),t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleUserClick}},[t("div",{staticClass:"main-header-avatar"},[t("el-avatar",{attrs:{src:e.userInfo?.avaUrl??e.defaultAvaUrl,size:"small"}}),t("span",{staticStyle:{"margin-left":"7px"}},[e._v(e._s(e.userInfo?.name))])],1),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{icon:"el-icon-edit",command:"changePassWord"}},[e._v("修改密码")]),t("el-dropdown-item",{attrs:{icon:"el-icon-switch-button",divided:"",command:"logout"}},[e._v("注销")])],1)],1),t("el-dialog",{attrs:{title:e.dialog.title,visible:e.dialog.visible,width:e.dialog.width,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"append-to-body":""},on:{"update:visible":function(t){return e.$set(e.dialog,"visible",t)}}},[t("el-form",{attrs:{model:e.dialog}},[t("el-form-item",{attrs:{label:"原密码：","label-width":e.dialog.labelWidth}},[t("el-input",{attrs:{autocomplete:"off",type:"password"},model:{value:e.dialog.oldPassWord,callback:function(t){e.$set(e.dialog,"oldPassWord",t)},expression:"dialog.oldPassWord"}})],1),t("el-form-item",{attrs:{label:"新密码：","label-width":e.dialog.labelWidth}},[t("el-input",{attrs:{autocomplete:"off",type:"password"},model:{value:e.dialog.newPassWord,callback:function(t){e.$set(e.dialog,"newPassWord",t)},expression:"dialog.newPassWord"}})],1),t("el-form-item",{attrs:{label:"确认密码：","label-width":e.dialog.labelWidth}},[t("el-input",{attrs:{autocomplete:"off",type:"password"},model:{value:e.dialog.confirmPassWord,callback:function(t){e.$set(e.dialog,"confirmPassWord",t)},expression:"dialog.confirmPassWord"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialog.visible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changePassWord()}}},[e._v("确 定")])],1)],1)],1)},i=[],n=o(9195),r={name:"Header",data(){return{defaultAvaUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",title:"分组分治打包系统",userInfo:this.$store.getters.userInfo,dialog:{title:"修改密码",visible:!1,width:"500px",labelWidth:"85px",oldPassWord:"",newPassWord:"",confirmPassWord:""}}},methods:{async getUserInfo(){const e=await(0,n.bG)();e.code>0&&this.$store.commit("setUserInfo",e.data)},async logout(){const e=await(0,n.kS)();e.code>0&&this.$router.replace("/login")},async changePassWord(){console.log(this.dialog)},handleUserClick(e){switch(e){case"logout":return this.logout();case"changePassWord":return void(this.dialog.visible=!0);default:break}}},mounted(){this.getUserInfo()}},d=r,c=o(1001),u=(0,c.Z)(d,l,i,!1,null,"d8f4a778",null),m=u.exports,f={name:"main",components:{Header:m}},g=f,p=(0,c.Z)(g,a,s,!1,null,null,null),h=p.exports},9195:function(e,t,o){o.d(t,{Zw:function(){return i},bG:function(){return n},kS:function(){return l},x4:function(){return s}});var a=o(7861);const s=async e=>(0,a.W)("/login",{method:"POST",data:e}),l=async e=>(0,a.W)("/logout",{method:"POST",data:e}),i=async e=>(0,a.W)("/getMembers",{method:"GET",params:e}),n=async e=>(0,a.W)("/getUserInfo",{method:"GET",params:e})}}]);